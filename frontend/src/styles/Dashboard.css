/* Reset & variables */
:root{
  --bg: #f8fafc;
  --card-bg: #ffffff;
  --muted: #6b7280;
  --text: #0f172a;
  --accent: #38bdf8;
  --success: #10b981;
  --danger: #ef4444;
  --glass: rgba(14,21,33,0.04);
}
*{ box-sizing: border-box; }

/* Core Layout */
.dashboard-container {
  display: flex;
  min-height: 100vh; /* allow content to grow beyond viewport */
  width: 100%;
  background-color: var(--bg);
  font-family: 'Inter', system-ui, sans-serif;
  gap: 0;
}

/* Sidebar - Deep Slate */
.sidebar {
  width: 260px;
  background-color: #0f172a;
  color: white;
  display: flex;
  flex-direction: column;
  padding: 1.5rem;
  box-shadow: 4px 0 18px rgba(2,6,23,0.06);
  position: sticky;
  top: 0;
  height: calc(100vh);
}

/* keep logo compact */
.sidebar-logo h2 { font-size: 1.15rem; margin-bottom: 1.5rem; }

.sidebar-nav { flex: 1; display: flex; flex-direction: column; gap: 6px; }

.sidebar-nav button{
  width: 100%; display: flex; align-items: center; gap: 12px; padding: 10px 14px; background: transparent; border: none; color: #94a3b8; border-radius: 8px; cursor: pointer; transition: background .18s ease, transform .08s ease; text-align: left;
}
.sidebar-nav button:hover { transform: translateX(4px); color: var(--card-bg); }
.sidebar-nav button.active { background: #111827; color: var(--card-bg); border-left: 4px solid var(--accent); }

/* Main Content Area */
.main-content { flex: 1; display: flex; flex-direction: column; }

.main-header { background: var(--card-bg); padding: 14px 22px; display:flex; justify-content:space-between; align-items:center; border-bottom: 1px solid #eef2f7; position: sticky; top: 0; z-index: 30; }
.main-header h1 { font-size: 1rem; font-weight: 700; color: var(--text); letter-spacing: 0.05em; }

.user-profile { display:flex; gap: 12px; align-items:center; }
.avatar { width:36px; height:36px; border-radius:50%; background:var(--accent); color:white; display:flex; align-items:center; justify-content:center; font-weight:700; }

/* Content area with safe padding and centered max width */
.dashboard-content { padding: 28px; width: 100%; max-width: 1200px; margin: 0 auto 48px auto; }

/* Overview container spacing */
.overview-container { display:flex; flex-direction:column; gap: 28px; }

/* Metrics grid — responsive, no overlap */
.metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; align-items: stretch; }

.card { background: var(--card-bg); border-radius: 12px; padding: 16px; box-shadow: 0 8px 24px rgba(2,6,23,0.06); border: 1px solid var(--glass); }
.chart-card { display:flex; flex-direction:column; justify-content:center; align-items:center; }
.chart-card h4 { margin:0 0 8px 0; font-size:0.95rem; color:var(--text); }

/* Stats summary - stacked neatly */
.stats-summary-card { display:flex; flex-direction:column; justify-content:center; gap:10px; }
.stat-item { display:flex; justify-content:space-between; align-items:center; }
.stat-item .label { color: var(--muted); font-size:0.85rem; }
.stat-item .value { font-weight:700; color:var(--text); font-size:1.05rem; }
.status-online { color:#065f46; background:#ecfdf5; padding:6px 10px; border-radius:999px; font-weight:700; font-size:0.75rem; }

/* Build table area — prevent overlap and allow horizontal scroll on small screens */
.dashboard-section { margin-bottom: 22px; }
.dashboard-section h3 { margin-bottom: 12px; color: var(--text); font-size: 1.05rem; }
.table-container { overflow-x: auto; padding: 12px; }
.build-table { width: 100%; border-collapse: collapse; min-width: 720px; }
.build-table thead th { text-align:left; font-size:0.85rem; padding: 12px 16px; color: #475569; border-bottom: 1px solid #eef2f7; }
.build-table tbody td { padding: 12px 16px; color: #334155; border-bottom: 1px solid #f3f6f9; vertical-align: middle; }
.branch-code { background:#f0f9ff; color:#0369a1; padding: 4px 8px; border-radius:6px; font-size:0.8rem; }
.msg-cell { max-width: 460px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.build-table tr:hover { background: #fbfdff; }

/* Status badges (consistent rounded look) */
.status-badge { display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-weight:600; font-size:0.78rem; }
.status-badge.success { background: #ecfdf4; color: #065f46; }
.status-badge.running { background: #eff6ff; color: #1e40af; }
.status-badge.failed { background: #fff1f2; color: #9f1239; }
.status-badge.unknown { background: #f8fafc; color: #475569; }

/* Pipeline grid and cards — ensure no overlap and even heights */
.pipeline-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; align-items: start; }
.pipeline-card { display:flex; flex-direction:column; justify-content:space-between; gap: 12px; padding: 14px; border-radius: 12px; background: var(--card-bg); box-shadow: 0 6px 14px rgba(2,6,23,0.06); border:1px solid var(--glass); min-height: 170px; }
.card-header { display:flex; justify-content:space-between; align-items:center; gap:12px; }
.repo-info h3 { margin:0; font-size:1.05rem; color: var(--text); }
.branch-tag { font-size:0.78rem; color: var(--muted); background:#f1f5f9; padding:6px 8px; border-radius:8px; display:inline-flex; align-items:center; gap:6px; }
.run-btn { background: linear-gradient(90deg, #06b6d4, var(--accent)); color: white; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:700; display:inline-flex; gap:8px; align-items:center; }
.run-btn:disabled { opacity:0.6; cursor:not-allowed; }

.pipeline-flow { display:flex; align-items:center; gap:8px; padding: 8px 0; }
.stage-node { display:flex; flex-direction:column; align-items:center; gap:8px; }
.node-circle { width:40px; height:40px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; color: #334155; background:#f8fafc; border:1px solid #e6eef7; }
.connector { height:3px; flex:1; background:#e9eef7; border-radius:2px; margin: 0 6px; }

.card-footer { border-top:1px solid #eef2f7; padding-top:10px; margin-top:6px; }
.build-meta .meta-row { display:flex; justify-content:space-between; gap:12px; align-items:center; }
.commit-msg { margin:8px 0 6px 0; color: #475569; font-style:normal; }
.time-info { color: #64748b; font-size:0.85rem; }
.no-data { color: #9aa4b2; }

/* Small screens: stack sidebar above content and compress spacing */
@media (max-width: 900px) {
  .dashboard-container { flex-direction: column; }
  .sidebar { position:relative; width:100%; height:auto; }
  .main-header { position:relative; }
  .dashboard-content { padding: 18px; max-width: 100%; }
  .pipeline-card { min-height: 150px; }
  .build-table { min-width: 600px; }
}

/* Utility helpers */
.text-muted { color: var(--muted); }
.center { display:flex; align-items:center; justify-content:center; }

/* End of Dashboard styles */
